<app-navbar></app-navbar>
<main role="main" class="container mt-5">
    <div class="container">
      <div class="text-center mt-5">
        <h3 class="welcome-title">Welcome to Ordered Products</h3>
  
        <!-- User Greeting Section -->
        <p class="welcome-message">Hi, {{ myemail }}</p>
  
        <!-- Search Box -->
        <div class="search-box">
          <input
            type="text"
            placeholder="Search products..."
            class="form-control search-input mb-3"
          />
          <button class="btn btn-primary search-btn">Search</button><br>
        </div>
  
        <!-- Orders Section -->
        <div *ngIf="orders && orders.length > 0; else noOrdersMessage" class="orders-section">
          <h2 class="orders-header">Your Orders</h2>
  
          <!-- Group Orders by Email -->
          <div class="order-group">
            <div *ngFor="let order of orders" class="order-item">
              <h3 class="order-header">Order ID: {{ order._id }}</h3>
              <p><strong>Email:</strong> {{ order.email }}</p>
              <p><strong>Status:</strong> {{ order.status }}</p>
              <p><strong>Order Amount:</strong> {{ order.amount | currency }}</p>
              <p><strong>Phone Number:</strong> {{ order.phonenumber | currency }}</p>

              <div class="ordered-address">
                <p><strong>Ordered Address</strong></p>
                <p>{{ order.address }}</p>
              </div>
              

  
              <!-- Cart Items -->
              <div class="cart-items">
                <h4>Cart Items:</h4>
                <ul class="list-group">
                  <li *ngFor="let item of order.cartitems" class="list-group-item">
                    <p><strong>Product Name:</strong> {{ item.name }}</p>
                    <p><strong>Price:</strong> {{ item.price | currency }}</p>
                    <p><strong>Quantity:</strong> {{ item.quantity }}</p>
                  </li>
                </ul>
              </div>
  
              <div class="total-price mt-3">
                <h3>Total Price: {{ order.amount | currency }}</h3>
                <button class="btn btn-success">Order Successful</button>
              </div>
            </div>
            <hr />
          </div>
        </div>
  
        <!-- No Orders Message -->
        <ng-template #noOrdersMessage>
          <p class="empty-orders-message">Your orders list is empty.</p>
        </ng-template>
      </div>
    </div>
  </main>
  
  